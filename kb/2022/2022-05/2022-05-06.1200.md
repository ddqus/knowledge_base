# On commit messages

> http://who-t.blogspot.com/2009/12/on-commit-messages.html

> **커밋 메시지를 보면 그 개발자가 좋은 협업가인지 알 수 있다.**

- 과거의 코드를 이해하려면 컨텍스트를 재구성해야 한다.
    - 그리고 컨텍스트를 재구성하는 작업은 소모적인 작업이다.
    - 재구성 작업은 필수적이며 하지 않을 수 없기 때문에, 재구성 작업을 최소화하기 위한 노력을 해야 한다.
- 커밋 메시지가 바로 그 역할을 한다.
    - **커밋 메시지를 보면 그 개발자가 좋은 협업가인지 알 수 있다.**
- 좋은 커밋 메시지는 다음의 세 가지 조건을 충족시킨다.
    - 이 패치는 왜 하는가? 버그 수정인가? 기능 추가인가? 코드 개선인가? ...
    - 이 패치는 어떻게 문제를 해결하는가? 접근 방법 및 의도에 대한 내용이 있어야 한다
    - 이 패치는 어떤 영향을 미치는가? 잘 드러나지 않는 사이드 이펙트가 있는가?
- 위 조건들을 만족하지 않는 커밋 메시지는 무용지물이다.
    - 해당 패치의 개발자가 좋은 커밋 메시지를 작성하지 않았기 때문에, 리뷰어는 패치의 의미를 찾기 위한 시간 낭비를 해야 한다.
    - 더 나쁜 경우는, 해당 패치가 커밋 메시지 기준에 미달되어 거절당하는 경우이다.
        - 다시 패치를 작성하고, 다시 리뷰를 받아야 한다.
    - 커밋 메시지 작성에는 큰 시간이 들지도 않는다. 처음에 잘 작성하면 아예 생기지 않을 문제이다.

## 잘 작성하는 방법

- 하나의 커밋에는 논리적인 변경사항이 한 개만 있어야 한다.
    - 변경 사항을 몇 마디의 단어로 표현할 수 없다면, 커밋을 분리해야 한다는 신호일 수 있다.
- 둘 중 하나를 선택해야 한다면, 너무 적은 패치보다는 너무 많은 패치를 선택하는 쪽이  대부분 좋다.
- 경험상, 다른 개발자가 커밋 메시지만 보고 동일한 내용의 코드를 만들 수 있어야 한다.
- 커밋 메시지 포맷을 준수한다.
    - 첫 줄은 최대 50~78자의 요약
    - 둘째 줄은 공백, 셋째 줄부터 (필요할 경우) 상세 내용
    - 코드를 설명할 것이 아니라 의도와 접근 방법을 설명해야 한다. (코드 변경사항은 그냥 보면 안다)
    - 현재형으로 서술할 것

## 하지 말것

- SCM은 백업 시스템이 아니다. 하루 업무의 끝에 그날의 변경사항을 기록하는 도구가 아니다.
- 파일 단위 커밋을 하지 말 것. 논리 단위 1개여야 한다.
- 메시지 내용을 뭉뚱그리지 말고 노력을 들여 작성해라. e.g. 오류 수정 및 정리(bad) 
- 하나의 패치에 두 개 이상의 변경사항을 포함하지 말 것.
- 논리적인 변경과 기계적인 변경을 같이 하지 말 것. e.g. 공백문자의 수정 (또는 패키지 이름 변경 등)
    - 리뷰어는 변경사항을 확인하기 위해 컨텍스트를 구성하는데, 기계적인 변경은 이 구성을 방해한다.
- 코드 폭탄 금지. 수백 줄에 달하는 코드를  커밋 하는 것

